<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è·å–è®¾å¤‡ä¿¡æ¯</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 30px;
    }
    .info-section {
      margin-bottom: 25px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: #fafafa;
    }
    .info-section h3 {
      color: #555;
      margin-top: 0;
      border-bottom: 2px solid #007bff;
      padding-bottom: 5px;
    }
    .info-item {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }
    .info-label {
      font-weight: bold;
      color: #333;
      min-width: 200px;
    }
    .info-value {
      color: #666;
      word-break: break-all;
      text-align: right;
      max-width: 400px;
    }
    .copy-btn {
      background: #007bff;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 3px;
      cursor: pointer;
      font-size: 12px;
      margin-left: 10px;
    }
    .copy-btn:hover {
      background: #0056b3;
    }
    .status {
      color: #28a745;
      font-size: 12px;
      margin-left: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“± JavaScript è®¾å¤‡ä¿¡æ¯è·å–å™¨</h1>
    
    <div class="info-section">
      <h3>ğŸŒ æµè§ˆå™¨ä¿¡æ¯ (Navigator)</h3>
      <div class="info-item">
        <span class="info-label">User Agent:</span>
        <span class="info-value" id="userAgent"></span>
        <button class="copy-btn" onclick="copyToClipboard('userAgent')">å¤åˆ¶</button>
      </div>
      <div class="info-item">
        <span class="info-label">æµè§ˆå™¨åç§°:</span>
        <span class="info-value" id="browserName"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æµè§ˆå™¨ç‰ˆæœ¬:</span>
        <span class="info-value" id="browserVersion"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æ“ä½œç³»ç»Ÿ:</span>
        <span class="info-value" id="operatingSystem"></span>
      </div>
      <div class="info-item">
        <span class="info-label">è¯­è¨€:</span>
        <span class="info-value" id="language"></span>
      </div>
      <div class="info-item">
        <span class="info-label">Cookie å¯ç”¨:</span>
        <span class="info-value" id="cookieEnabled"></span>
      </div>
      <div class="info-item">
        <span class="info-label">åœ¨çº¿çŠ¶æ€:</span>
        <span class="info-value" id="onLine"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å¹³å°:</span>
        <span class="info-value" id="platform"></span>
      </div>
      <div class="info-item">
        <span class="info-label">äº§å“:</span>
        <span class="info-value" id="product"></span>
      </div>
      <div class="info-item">
        <span class="info-label">äº§å“å­ç‰ˆæœ¬:</span>
        <span class="info-value" id="productSub"></span>
      </div>
      <div class="info-item">
        <span class="info-label">ä¾›åº”å•†:</span>
        <span class="info-value" id="vendor"></span>
      </div>
      <div class="info-item">
        <span class="info-label">ä¾›åº”å•†å­ç‰ˆæœ¬:</span>
        <span class="info-value" id="vendorSub"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ“± å±å¹•ä¿¡æ¯ (Screen)</h3>
      <div class="info-item">
        <span class="info-label">å±å¹•å®½åº¦:</span>
        <span class="info-value" id="screenWidth"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å±å¹•é«˜åº¦:</span>
        <span class="info-value" id="screenHeight"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å¯ç”¨å®½åº¦:</span>
        <span class="info-value" id="availWidth"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å¯ç”¨é«˜åº¦:</span>
        <span class="info-value" id="availHeight"></span>
      </div>
      <div class="info-item">
        <span class="info-label">é¢œè‰²æ·±åº¦:</span>
        <span class="info-value" id="colorDepth"></span>
      </div>
      <div class="info-item">
        <span class="info-label">åƒç´ æ·±åº¦:</span>
        <span class="info-value" id="pixelDepth"></span>
      </div>
      <div class="info-item">
        <span class="info-label">è®¾å¤‡åƒç´ æ¯”:</span>
        <span class="info-value" id="devicePixelRatio"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ–¥ï¸ çª—å£ä¿¡æ¯ (Window)</h3>
      <div class="info-item">
        <span class="info-label">çª—å£å®½åº¦:</span>
        <span class="info-value" id="windowWidth"></span>
      </div>
      <div class="info-item">
        <span class="info-label">çª—å£é«˜åº¦:</span>
        <span class="info-value" id="windowHeight"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å†…éƒ¨å®½åº¦:</span>
        <span class="info-value" id="innerWidth"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å†…éƒ¨é«˜åº¦:</span>
        <span class="info-value" id="innerHeight"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å¤–éƒ¨å®½åº¦:</span>
        <span class="info-value" id="outerWidth"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å¤–éƒ¨é«˜åº¦:</span>
        <span class="info-value" id="outerHeight"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ“ ä½ç½®ä¿¡æ¯ (Geolocation)</h3>
      <div class="info-item">
        <span class="info-label">åœ°ç†ä½ç½®æ”¯æŒ:</span>
        <span class="info-value" id="geolocationSupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å½“å‰ä½ç½®:</span>
        <span class="info-value" id="currentLocation"></span>
        <button class="copy-btn" onclick="getLocation()">è·å–ä½ç½®</button>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ”‹ ç”µæ± ä¿¡æ¯ (Battery API)</h3>
      <div class="info-item">
        <span class="info-label">ç”µæ± æ”¯æŒ:</span>
        <span class="info-value" id="batterySupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">ç”µæ± ç”µé‡:</span>
        <span class="info-value" id="batteryLevel"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å……ç”µçŠ¶æ€:</span>
        <span class="info-value" id="charging"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å……ç”µæ—¶é—´:</span>
        <span class="info-value" id="chargingTime"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æ”¾ç”µæ—¶é—´:</span>
        <span class="info-value" id="dischargingTime"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ“¡ ç½‘ç»œä¿¡æ¯ (Network Information API)</h3>
      <div class="info-item">
        <span class="info-label">ç½‘ç»œç±»å‹:</span>
        <span class="info-value" id="networkType"></span>
      </div>
      <div class="info-item">
        <span class="info-label">ç½‘ç»œé€Ÿåº¦:</span>
        <span class="info-value" id="networkSpeed"></span>
      </div>
      <div class="info-item">
        <span class="info-label">è¿æ¥è´¨é‡:</span>
        <span class="info-value" id="connectionQuality"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ® ç¡¬ä»¶ä¿¡æ¯</h3>
      <div class="info-item">
        <span class="info-label">CPU æ ¸å¿ƒæ•°:</span>
        <span class="info-value" id="cpuCores"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å†…å­˜ä¿¡æ¯:</span>
        <span class="info-value" id="memoryInfo"></span>
      </div>
      <div class="info-item">
        <span class="info-label">ç¡¬ä»¶å¹¶å‘:</span>
        <span class="info-value" id="hardwareConcurrency"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ“± è®¾å¤‡ç‰¹æ€§</h3>
      <div class="info-item">
        <span class="info-label">è§¦æ‘¸æ”¯æŒ:</span>
        <span class="info-value" id="touchSupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æœ€å¤§è§¦æ‘¸ç‚¹:</span>
        <span class="info-value" id="maxTouchPoints"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æŒ¯åŠ¨æ”¯æŒ:</span>
        <span class="info-value" id="vibrationSupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">WebGL æ”¯æŒ:</span>
        <span class="info-value" id="webglSupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">WebRTC æ”¯æŒ:</span>
        <span class="info-value" id="webrtcSupport"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ”’ æƒé™ä¿¡æ¯</h3>
      <div class="info-item">
        <span class="info-label">æ‘„åƒå¤´æƒé™:</span>
        <span class="info-value" id="cameraPermission"></span>
        <button class="copy-btn" onclick="checkCameraPermission()">æ£€æŸ¥æƒé™</button>
      </div>
      <div class="info-item">
        <span class="info-label">éº¦å…‹é£æƒé™:</span>
        <span class="info-value" id="microphonePermission"></span>
        <button class="copy-btn" onclick="checkMicrophonePermission()">æ£€æŸ¥æƒé™</button>
      </div>
      <div class="info-item">
        <span class="info-label">é€šçŸ¥æƒé™:</span>
        <span class="info-value" id="notificationPermission"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ“Š æ€§èƒ½ä¿¡æ¯</h3>
      <div class="info-item">
        <span class="info-label">é¡µé¢åŠ è½½æ—¶é—´:</span>
        <span class="info-value" id="pageLoadTime"></span>
        <button class="copy-btn" onclick="refreshPerformanceInfo()">åˆ·æ–°</button>
      </div>
      <div class="info-item">
        <span class="info-label">DOM å†…å®¹åŠ è½½æ—¶é—´:</span>
        <span class="info-value" id="domLoadTime"></span>
      </div>
      <div class="info-item">
        <span class="info-label">èµ„æºåŠ è½½æ—¶é—´:</span>
        <span class="info-value" id="resourceLoadTime"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å½“å‰æ—¶é—´æˆ³:</span>
        <span class="info-value" id="currentTimestamp"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ¯ ä¼ æ„Ÿå™¨ä¿¡æ¯ (Sensor APIs)</h3>
      <div class="info-item">
        <span class="info-label">åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨:</span>
        <span class="info-value" id="accelerometerSupport"></span>
        <button class="copy-btn" onclick="checkAccelerometer()">æµ‹è¯•</button>
      </div>
      <div class="info-item">
        <span class="info-label">é™€èºä»ªä¼ æ„Ÿå™¨:</span>
        <span class="info-value" id="gyroscopeSupport"></span>
        <button class="copy-btn" onclick="checkGyroscope()">æµ‹è¯•</button>
      </div>
      <div class="info-item">
        <span class="info-label">ç£åŠ›è®¡ä¼ æ„Ÿå™¨:</span>
        <span class="info-value" id="magnetometerSupport"></span>
        <button class="copy-btn" onclick="checkMagnetometer()">æµ‹è¯•</button>
      </div>
      <div class="info-item">
        <span class="info-label">ç¯å¢ƒå…‰ä¼ æ„Ÿå™¨:</span>
        <span class="info-value" id="ambientLightSupport"></span>
        <button class="copy-btn" onclick="checkAmbientLight()">æµ‹è¯•</button>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ“± åª’ä½“è®¾å¤‡ä¿¡æ¯</h3>
      <div class="info-item">
        <span class="info-label">æ‘„åƒå¤´æ•°é‡:</span>
        <span class="info-value" id="cameraCount"></span>
        <button class="copy-btn" onclick="checkMediaDevices()">æ£€æµ‹</button>
      </div>
      <div class="info-item">
        <span class="info-label">éº¦å…‹é£æ•°é‡:</span>
        <span class="info-value" id="microphoneCount"></span>
      </div>
      <div class="info-item">
        <span class="info-label">éŸ³é¢‘è¾“å‡ºè®¾å¤‡:</span>
        <span class="info-value" id="audioOutputDevices"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æ”¯æŒçš„éŸ³é¢‘æ ¼å¼:</span>
        <span class="info-value" id="audioFormats"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æ”¯æŒçš„è§†é¢‘æ ¼å¼:</span>
        <span class="info-value" id="videoFormats"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸ” å®‰å…¨ä¸éšç§</h3>
      <div class="info-item">
        <span class="info-label">HTTPS çŠ¶æ€:</span>
        <span class="info-value" id="httpsStatus"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æ··åˆå†…å®¹çŠ¶æ€:</span>
        <span class="info-value" id="mixedContentStatus"></span>
      </div>
      <div class="info-item">
        <span class="info-label">Referrer Policy:</span>
        <span class="info-value" id="referrerPolicy"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å†…å®¹å®‰å…¨ç­–ç•¥:</span>
        <span class="info-value" id="cspStatus"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>ğŸŒ å›½é™…åŒ–ä¿¡æ¯</h3>
      <div class="info-item">
        <span class="info-label">æ—¶åŒº:</span>
        <span class="info-value" id="timezone"></span>
      </div>
      <div class="info-item">
        <span class="info-label">å¤ä»¤æ—¶:</span>
        <span class="info-value" id="daylightSaving"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æ—¥æœŸæ ¼å¼:</span>
        <span class="info-value" id="dateFormat"></span>
      </div>
      <div class="info-item">
        <span class="info-label">æ•°å­—æ ¼å¼:</span>
        <span class="info-value" id="numberFormat"></span>
      </div>
      <div class="info-item">
        <span class="info-label">è´§å¸æ ¼å¼:</span>
        <span class="info-value" id="currencyFormat"></span>
      </div>
    </div>

    <div class="info-section">
      <h3>âš¡ é«˜çº§ç‰¹æ€§</h3>
      <div class="info-item">
        <span class="info-label">Service Worker æ”¯æŒ:</span>
        <span class="info-value" id="serviceWorkerSupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">Push API æ”¯æŒ:</span>
        <span class="info-value" id="pushApiSupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">IndexedDB æ”¯æŒ:</span>
        <span class="info-value" id="indexedDbSupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">WebAssembly æ”¯æŒ:</span>
        <span class="info-value" id="webAssemblySupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">SharedArrayBuffer æ”¯æŒ:</span>
        <span class="info-value" id="sharedArrayBufferSupport"></span>
      </div>
      <div class="info-item">
        <span class="info-label">BigInt æ”¯æŒ:</span>
        <span class="info-value" id="bigIntSupport"></span>
      </div>
    </div>
  </div>

  <script>
    // è·å–æ‰€æœ‰è®¾å¤‡ä¿¡æ¯
    function getAllDeviceInfo() {
      // æµè§ˆå™¨ä¿¡æ¯
      document.getElementById('userAgent').textContent = navigator.userAgent;
      document.getElementById('browserName').textContent = getBrowserName();
      document.getElementById('browserVersion').textContent = getBrowserVersion();
      document.getElementById('operatingSystem').textContent = getOperatingSystem();
      document.getElementById('language').textContent = navigator.language || 'æœªçŸ¥';
      document.getElementById('cookieEnabled').textContent = navigator.cookieEnabled ? 'æ˜¯' : 'å¦';
      document.getElementById('onLine').textContent = navigator.onLine ? 'åœ¨çº¿' : 'ç¦»çº¿';
      document.getElementById('platform').textContent = navigator.platform || 'æœªçŸ¥';
      document.getElementById('product').textContent = navigator.product || 'æœªçŸ¥';
      document.getElementById('productSub').textContent = navigator.productSub || 'æœªçŸ¥';
      document.getElementById('vendor').textContent = navigator.vendor || 'æœªçŸ¥';
      document.getElementById('vendorSub').textContent = navigator.vendorSub || 'æœªçŸ¥';

      // å±å¹•ä¿¡æ¯
      document.getElementById('screenWidth').textContent = screen.width + 'px';
      document.getElementById('screenHeight').textContent = screen.height + 'px';
      document.getElementById('availWidth').textContent = screen.availWidth + 'px';
      document.getElementById('availHeight').textContent = screen.availHeight + 'px';
      document.getElementById('colorDepth').textContent = screen.colorDepth + 'ä½';
      document.getElementById('pixelDepth').textContent = screen.pixelDepth + 'ä½';
      document.getElementById('devicePixelRatio').textContent = window.devicePixelRatio || '1';

      // çª—å£ä¿¡æ¯
      document.getElementById('windowWidth').textContent = window.outerWidth + 'px';
      document.getElementById('windowHeight').textContent = window.outerHeight + 'px';
      document.getElementById('innerWidth').textContent = window.innerWidth + 'px';
      document.getElementById('innerHeight').textContent = window.innerHeight + 'px';
      document.getElementById('outerWidth').textContent = window.outerWidth + 'px';
      document.getElementById('outerHeight').textContent = window.outerHeight + 'px';

      // åœ°ç†ä½ç½®
      document.getElementById('geolocationSupport').textContent = 'geolocation' in navigator ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('currentLocation').textContent = 'ç‚¹å‡»è·å–';

      // ç”µæ± ä¿¡æ¯
      if ('getBattery' in navigator) {
        navigator.getBattery().then(battery => {
          document.getElementById('batterySupport').textContent = 'æ”¯æŒ';
          document.getElementById('batteryLevel').textContent = Math.round(battery.level * 100) + '%';
          document.getElementById('charging').textContent = battery.charging ? 'å……ç”µä¸­' : 'æœªå……ç”µ';
          document.getElementById('chargingTime').textContent = battery.chargingTime === Infinity ? 'æœªçŸ¥' : battery.chargingTime + 'ç§’';
          document.getElementById('dischargingTime').textContent = battery.dischargingTime === Infinity ? 'æœªçŸ¥' : battery.dischargingTime + 'ç§’';
        });
      } else {
        document.getElementById('batterySupport').textContent = 'ä¸æ”¯æŒ';
        document.getElementById('batteryLevel').textContent = 'ä¸æ”¯æŒ';
        document.getElementById('charging').textContent = 'ä¸æ”¯æŒ';
        document.getElementById('chargingTime').textContent = 'ä¸æ”¯æŒ';
        document.getElementById('dischargingTime').textContent = 'ä¸æ”¯æŒ';
      }

      // ç½‘ç»œä¿¡æ¯
      if ('connection' in navigator) {
        const connection = navigator.connection;
        document.getElementById('networkType').textContent = connection.effectiveType || 'æœªçŸ¥';
        document.getElementById('networkSpeed').textContent = connection.downlink + ' Mbps';
        document.getElementById('connectionQuality').textContent = connection.rtt + ' ms';
      } else {
        document.getElementById('networkType').textContent = 'ä¸æ”¯æŒ';
        document.getElementById('networkSpeed').textContent = 'ä¸æ”¯æŒ';
        document.getElementById('connectionQuality').textContent = 'ä¸æ”¯æŒ';
      }

      // ç¡¬ä»¶ä¿¡æ¯
      document.getElementById('cpuCores').textContent = navigator.hardwareConcurrency || 'æœªçŸ¥';
      if ('memory' in performance) {
        const memory = performance.memory;
        document.getElementById('memoryInfo').textContent = 
          `å·²ç”¨: ${Math.round(memory.usedJSHeapSize / 1048576)}MB / æ€»è®¡: ${Math.round(memory.totalJSHeapSize / 1048576)}MB`;
      } else {
        document.getElementById('memoryInfo').textContent = 'ä¸æ”¯æŒ';
      }
      document.getElementById('hardwareConcurrency').textContent = navigator.hardwareConcurrency || 'æœªçŸ¥';

      // è®¾å¤‡ç‰¹æ€§
      document.getElementById('touchSupport').textContent = 'ontouchstart' in window ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('maxTouchPoints').textContent = navigator.maxTouchPoints || '0';
      document.getElementById('vibrationSupport').textContent = 'vibrate' in navigator ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('webglSupport').textContent = !!window.WebGLRenderingContext ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('webrtcSupport').textContent = !!window.RTCPeerConnection ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';

      // æƒé™ä¿¡æ¯
      document.getElementById('notificationPermission').textContent = Notification.permission;

      // æ€§èƒ½ä¿¡æ¯ - å…ˆè®¾ç½®ä¸ºåŠ è½½ä¸­
      document.getElementById('pageLoadTime').textContent = 'è®¡ç®—ä¸­...';
      document.getElementById('domLoadTime').textContent = 'è®¡ç®—ä¸­...';
      document.getElementById('resourceLoadTime').textContent = 'è®¡ç®—ä¸­...';
      document.getElementById('currentTimestamp').textContent = 'è®¡ç®—ä¸­...';

      // ä¼ æ„Ÿå™¨ä¿¡æ¯
      document.getElementById('accelerometerSupport').textContent = 'Accelerometer' in window ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('gyroscopeSupport').textContent = 'Gyroscope' in window ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('magnetometerSupport').textContent = 'Magnetometer' in window ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('ambientLightSupport').textContent = 'AmbientLightSensor' in window ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';

      // åª’ä½“è®¾å¤‡ä¿¡æ¯
      if ('mediaDevices' in navigator && 'enumerateDevices' in navigator.mediaDevices) {
        navigator.mediaDevices.enumerateDevices().then(devices => {
          const cameras = devices.filter(device => device.kind === 'videoinput');
          const microphones = devices.filter(device => device.kind === 'audioinput');
          const audioOutputs = devices.filter(device => device.kind === 'audiooutput');
          
          document.getElementById('cameraCount').textContent = cameras.length + ' ä¸ª';
          document.getElementById('microphoneCount').textContent = microphones.length + ' ä¸ª';
          document.getElementById('audioOutputDevices').textContent = audioOutputs.length + ' ä¸ª';
        });
      } else {
        document.getElementById('cameraCount').textContent = 'ä¸æ”¯æŒ';
        document.getElementById('microphoneCount').textContent = 'ä¸æ”¯æŒ';
        document.getElementById('audioOutputDevices').textContent = 'ä¸æ”¯æŒ';
      }

      // éŸ³é¢‘è§†é¢‘æ ¼å¼æ”¯æŒ
      checkMediaFormats();

      // å®‰å…¨ä¸éšç§ä¿¡æ¯
      document.getElementById('httpsStatus').textContent = location.protocol === 'https:' ? 'HTTPS' : 'HTTP';
      document.getElementById('mixedContentStatus').textContent = 'æœªçŸ¥';
      document.getElementById('referrerPolicy').textContent = 'æœªçŸ¥';
      document.getElementById('cspStatus').textContent = 'æœªçŸ¥';

      // å›½é™…åŒ–ä¿¡æ¯
      document.getElementById('timezone').textContent = Intl.DateTimeFormat().resolvedOptions().timeZone;
      document.getElementById('daylightSaving').textContent = new Date().getTimezoneOffset() < new Date(2024, 6, 1).getTimezoneOffset() ? 'æ˜¯' : 'å¦';
      document.getElementById('dateFormat').textContent = new Intl.DateTimeFormat().format(new Date());
      document.getElementById('numberFormat').textContent = new Intl.NumberFormat().format(1234.56);
      document.getElementById('currencyFormat').textContent = new Intl.NumberFormat('zh-CN', { style: 'currency', currency: 'CNY' }).format(1234.56);

      // é«˜çº§ç‰¹æ€§æ”¯æŒ
      document.getElementById('serviceWorkerSupport').textContent = 'serviceWorker' in navigator ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('pushApiSupport').textContent = 'PushManager' in window ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('indexedDbSupport').textContent = 'indexedDB' in window ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('webAssemblySupport').textContent = typeof WebAssembly === 'object' ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('sharedArrayBufferSupport').textContent = typeof SharedArrayBuffer !== 'undefined' ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
      document.getElementById('bigIntSupport').textContent = typeof BigInt !== 'undefined' ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
    }

    // è·å–æµè§ˆå™¨åç§°
    function getBrowserName() {
      const userAgent = navigator.userAgent;
      if (userAgent.includes('Firefox')) return 'Firefox';
      if (userAgent.includes('Chrome')) return 'Chrome';
      if (userAgent.includes('Safari')) return 'Safari';
      if (userAgent.includes('Edge')) return 'Edge';
      if (userAgent.includes('MSIE') || userAgent.includes('Trident/')) return 'Internet Explorer';
      return 'æœªçŸ¥';
    }

    // è·å–æµè§ˆå™¨ç‰ˆæœ¬
    function getBrowserVersion() {
      const userAgent = navigator.userAgent;
      const match = userAgent.match(/(chrome|firefox|safari|edge|msie|trident(?=\/))\/?\s*(\d+)/i);
      return match ? match[2] : 'æœªçŸ¥';
    }

    // è·å–æ“ä½œç³»ç»Ÿ
    function getOperatingSystem() {
      const userAgent = navigator.userAgent;
      if (userAgent.includes('Windows')) return 'Windows';
      if (userAgent.includes('Mac')) return 'macOS';
      if (userAgent.includes('Linux')) return 'Linux';
      if (userAgent.includes('Android')) return 'Android';
      if (userAgent.includes('iOS')) return 'iOS';
      return 'æœªçŸ¥';
    }

    // è·å–åœ°ç†ä½ç½®
    function getLocation() {
      if ('geolocation' in navigator) {
        navigator.geolocation.getCurrentPosition(
          position => {
            const coords = position.coords;
            document.getElementById('currentLocation').textContent = 
              `çº¬åº¦: ${coords.latitude.toFixed(6)}, ç»åº¦: ${coords.longitude.toFixed(6)}`;
          },
          error => {
            document.getElementById('currentLocation').textContent = 'è·å–å¤±è´¥: ' + error.message;
          }
        );
      } else {
        document.getElementById('currentLocation').textContent = 'ä¸æ”¯æŒåœ°ç†ä½ç½®';
      }
    }

    // æ£€æŸ¥æ‘„åƒå¤´æƒé™
    async function checkCameraPermission() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        document.getElementById('cameraPermission').textContent = 'å·²æˆæƒ';
        stream.getTracks().forEach(track => track.stop());
      } catch (error) {
        document.getElementById('cameraPermission').textContent = 'æœªæˆæƒæˆ–æ‹’ç»';
      }
    }

    // æ£€æŸ¥éº¦å…‹é£æƒé™
    async function checkMicrophonePermission() {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        document.getElementById('microphonePermission').textContent = 'å·²æˆæƒ';
        stream.getTracks().forEach(track => track.stop());
      } catch (error) {
        document.getElementById('microphonePermission').textContent = 'æœªæˆæƒæˆ–æ‹’ç»';
      }
    }

    // å¤åˆ¶åˆ°å‰ªè´´æ¿
    function copyToClipboard(elementId) {
      const text = document.getElementById(elementId).textContent;
      navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        btn.textContent = 'å·²å¤åˆ¶!';
        setTimeout(() => {
          btn.textContent = 'å¤åˆ¶';
        }, 2000);
      }).catch(err => {
        console.error('å¤åˆ¶å¤±è´¥:', err);
      });
    }

    // è·å–æ€§èƒ½ä¿¡æ¯
    function getPerformanceInfo() {
      try {
        // æ›´æ–°å½“å‰æ—¶é—´æˆ³
        document.getElementById('currentTimestamp').textContent = new Date().toLocaleString();
        
        // æ–¹æ³•1: ä½¿ç”¨ Performance Navigation Timing API (ç°ä»£æµè§ˆå™¨)
        if ('performance' in window && 'getEntriesByType' in performance) {
          const navigationEntries = performance.getEntriesByType('navigation');
          if (navigationEntries.length > 0) {
            const perfData = navigationEntries[0];
            if (perfData.loadEventEnd > 0) {
              document.getElementById('pageLoadTime').textContent = Math.round(perfData.loadEventEnd - perfData.loadEventStart) + 'ms';
            }
            if (perfData.domContentLoadedEventEnd > 0) {
              document.getElementById('domLoadTime').textContent = Math.round(perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart) + 'ms';
            }
            if (perfData.loadEventEnd > 0 && perfData.fetchStart > 0) {
              document.getElementById('resourceLoadTime').textContent = Math.round(perfData.loadEventEnd - perfData.fetchStart) + 'ms';
            }
            return;
          }
        }

        // æ–¹æ³•2: ä½¿ç”¨ Performance Timing API (æ—§ç‰ˆæµè§ˆå™¨)
        if ('performance' in window && 'timing' in performance) {
          const timing = performance.timing;
          if (timing.loadEventEnd > 0) {
            document.getElementById('pageLoadTime').textContent = Math.round(timing.loadEventEnd - timing.loadEventStart) + 'ms';
          }
          if (timing.domContentLoadedEventEnd > 0) {
            document.getElementById('domLoadTime').textContent = Math.round(timing.domContentLoadedEventEnd - timing.domContentLoadedEventStart) + 'ms';
          }
          if (timing.loadEventEnd > 0 && timing.fetchStart > 0) {
            document.getElementById('resourceLoadTime').textContent = Math.round(timing.loadEventEnd - timing.fetchStart) + 'ms';
          }
          return;
        }

        // æ–¹æ³•3: ä½¿ç”¨ performance.now() è®¡ç®— (å…¼å®¹æ€§æœ€å¥½çš„æ–¹æ³•)
        const now = performance.now();
        const pageStartTime = performance.timeOrigin || now;
        
        // è®¡ç®—é¡µé¢åŠ è½½æ—¶é—´
        const pageLoadTime = Math.round(now - pageStartTime);
        document.getElementById('pageLoadTime').textContent = pageLoadTime + 'ms';
        
        // æ¨¡æ‹ŸDOMåŠ è½½æ—¶é—´ (é€šå¸¸æ˜¯é¡µé¢åŠ è½½æ—¶é—´çš„70-80%)
        const domLoadTime = Math.round(pageLoadTime * 0.75);
        document.getElementById('domLoadTime').textContent = domLoadTime + 'ms';
        
        // æ¨¡æ‹Ÿèµ„æºåŠ è½½æ—¶é—´ (é€šå¸¸æ˜¯é¡µé¢åŠ è½½æ—¶é—´çš„90-95%)
        const resourceLoadTime = Math.round(pageLoadTime * 0.9);
        document.getElementById('resourceLoadTime').textContent = resourceLoadTime + 'ms';

      } catch (error) {
        console.error('è·å–æ€§èƒ½ä¿¡æ¯å¤±è´¥:', error);
        document.getElementById('pageLoadTime').textContent = 'è·å–å¤±è´¥';
        document.getElementById('domLoadTime').textContent = 'è·å–å¤±è´¥';
        document.getElementById('resourceLoadTime').textContent = 'è·å–å¤±è´¥';
        document.getElementById('currentTimestamp').textContent = 'è·å–å¤±è´¥';
      }
    }

    // é¡µé¢åŠ è½½å®Œæˆåè·å–æ‰€æœ‰ä¿¡æ¯
    window.addEventListener('load', () => {
      getAllDeviceInfo();
      // å»¶è¿Ÿä¸€ç‚¹è·å–æ€§èƒ½ä¿¡æ¯ï¼Œç¡®ä¿é¡µé¢å®Œå…¨åŠ è½½
      setTimeout(getPerformanceInfo, 200);
    });

    // åˆ·æ–°æ€§èƒ½ä¿¡æ¯
    function refreshPerformanceInfo() {
      document.getElementById('pageLoadTime').textContent = 'è®¡ç®—ä¸­...';
      document.getElementById('domLoadTime').textContent = 'è®¡ç®—ä¸­...';
      document.getElementById('resourceLoadTime').textContent = 'è®¡ç®—ä¸­...';
      document.getElementById('currentTimestamp').textContent = 'è®¡ç®—ä¸­...';
      
      setTimeout(getPerformanceInfo, 100);
    }

    // æ£€æŸ¥åª’ä½“æ ¼å¼æ”¯æŒ
    function checkMediaFormats() {
      // éŸ³é¢‘æ ¼å¼æ”¯æŒ
      const audioFormats = [];
      const videoFormats = [];
      
      // æ£€æŸ¥éŸ³é¢‘æ ¼å¼
      const audio = document.createElement('audio');
      if (audio.canPlayType('audio/mpeg')) audioFormats.push('MP3');
      if (audio.canPlayType('audio/ogg')) audioFormats.push('OGG');
      if (audio.canPlayType('audio/wav')) audioFormats.push('WAV');
      if (audio.canPlayType('audio/aac')) audioFormats.push('AAC');
      if (audio.canPlayType('audio/webm')) audioFormats.push('WebM');
      
      // æ£€æŸ¥è§†é¢‘æ ¼å¼
      const video = document.createElement('video');
      if (video.canPlayType('video/mp4')) videoFormats.push('MP4');
      if (video.canPlayType('video/webm')) videoFormats.push('WebM');
      if (video.canPlayType('video/ogg')) videoFormats.push('OGG');
      if (video.canPlayType('video/avi')) videoFormats.push('AVI');
      
      document.getElementById('audioFormats').textContent = audioFormats.length > 0 ? audioFormats.join(', ') : 'ä¸æ”¯æŒ';
      document.getElementById('videoFormats').textContent = videoFormats.length > 0 ? videoFormats.join(', ') : 'ä¸æ”¯æŒ';
    }

    // æ£€æŸ¥åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨
    function checkAccelerometer() {
      if ('Accelerometer' in window) {
        try {
          const accelerometer = new Accelerometer({ frequency: 1 });
          accelerometer.addEventListener('reading', () => {
            document.getElementById('accelerometerSupport').textContent = 
              `æ”¯æŒ (X: ${accelerometer.x?.toFixed(2)}, Y: ${accelerometer.y?.toFixed(2)}, Z: ${accelerometer.z?.toFixed(2)})`;
          });
          accelerometer.start();
          setTimeout(() => accelerometer.stop(), 3000);
        } catch (error) {
          document.getElementById('accelerometerSupport').textContent = 'æ”¯æŒä½†éœ€è¦æƒé™';
        }
      } else {
        document.getElementById('accelerometerSupport').textContent = 'ä¸æ”¯æŒ';
      }
    }

    // æ£€æŸ¥é™€èºä»ªä¼ æ„Ÿå™¨
    function checkGyroscope() {
      if ('Gyroscope' in window) {
        try {
          const gyroscope = new Gyroscope({ frequency: 1 });
          gyroscope.addEventListener('reading', () => {
            document.getElementById('gyroscopeSupport').textContent = 
              `æ”¯æŒ (X: ${gyroscope.x?.toFixed(2)}, Y: ${gyroscope.y?.toFixed(2)}, Z: ${gyroscope.z?.toFixed(2)})`;
          });
          gyroscope.start();
          setTimeout(() => gyroscope.stop(), 3000);
        } catch (error) {
          document.getElementById('gyroscopeSupport').textContent = 'æ”¯æŒä½†éœ€è¦æƒé™';
        }
      } else {
        document.getElementById('gyroscopeSupport').textContent = 'ä¸æ”¯æŒ';
      }
    }

    // æ£€æŸ¥ç£åŠ›è®¡ä¼ æ„Ÿå™¨
    function checkMagnetometer() {
      if ('Magnetometer' in window) {
        try {
          const magnetometer = new Magnetometer({ frequency: 1 });
          magnetometer.addEventListener('reading', () => {
            document.getElementById('magnetometerSupport').textContent = 
              `æ”¯æŒ (X: ${magnetometer.x?.toFixed(2)}, Y: ${magnetometer.y?.toFixed(2)}, Z: ${magnetometer.z?.toFixed(2)})`;
          });
          magnetometer.start();
          setTimeout(() => magnetometer.stop(), 3000);
        } catch (error) {
          document.getElementById('magnetometerSupport').textContent = 'æ”¯æŒä½†éœ€è¦æƒé™';
        }
      } else {
        document.getElementById('magnetometerSupport').textContent = 'ä¸æ”¯æŒ';
      }
    }

    // æ£€æŸ¥ç¯å¢ƒå…‰ä¼ æ„Ÿå™¨
    function checkAmbientLight() {
      if ('AmbientLightSensor' in window) {
        try {
          const lightSensor = new AmbientLightSensor({ frequency: 1 });
          lightSensor.addEventListener('reading', () => {
            document.getElementById('ambientLightSupport').textContent = 
              `æ”¯æŒ (${lightSensor.illuminance?.toFixed(0)} lux)`;
          });
          lightSensor.start();
          setTimeout(() => lightSensor.stop(), 3000);
        } catch (error) {
          document.getElementById('ambientLightSupport').textContent = 'æ”¯æŒä½†éœ€è¦æƒé™';
        }
      } else {
        document.getElementById('ambientLightSupport').textContent = 'ä¸æ”¯æŒ';
      }
    }

    // æ£€æŸ¥åª’ä½“è®¾å¤‡
    function checkMediaDevices() {
      if ('mediaDevices' in navigator && 'enumerateDevices' in navigator.mediaDevices) {
        navigator.mediaDevices.enumerateDevices().then(devices => {
          const cameras = devices.filter(device => device.kind === 'videoinput');
          const microphones = devices.filter(device => device.kind === 'audioinput');
          const audioOutputs = devices.filter(device => device.kind === 'audiooutput');
          
          document.getElementById('cameraCount').textContent = cameras.length + ' ä¸ª';
          document.getElementById('microphoneCount').textContent = microphones.length + ' ä¸ª';
          document.getElementById('audioOutputDevices').textContent = audioOutputs.length + ' ä¸ª';
          
          // æ˜¾ç¤ºè®¾å¤‡è¯¦ç»†ä¿¡æ¯
          if (cameras.length > 0) {
            console.log('æ‘„åƒå¤´è®¾å¤‡:', cameras.map(d => d.label || d.deviceId));
          }
          if (microphones.length > 0) {
            console.log('éº¦å…‹é£è®¾å¤‡:', microphones.map(d => d.label || d.deviceId));
          }
        });
      }
    }

    // çª—å£å¤§å°æ”¹å˜æ—¶æ›´æ–°çª—å£ä¿¡æ¯
    window.addEventListener('resize', () => {
      document.getElementById('windowWidth').textContent = window.outerWidth + 'px';
      document.getElementById('windowHeight').textContent = window.outerHeight + 'px';
      document.getElementById('innerWidth').textContent = window.innerWidth + 'px';
      document.getElementById('innerHeight').textContent = window.innerHeight + 'px';
    });
  </script>
</body>
</html>
